<!DOCTYPE html><html><head>
<title>Dashboard de Afinidades</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-chart-treemap@2.3.0/dist/chartjs-chart-treemap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
body { padding: 20px; }
.container { margin-top: 20px; }
.chart-container { position: relative; margin: auto; width: 80vw; }
.treemap-container { height: 70vh; }
.ranking-container { max-width: 600px; margin: auto; font-size: 0.9rem; }
.ranking-container table { text-align: center; }
.ranking-container table th { text-align: center; }
h2 { text-align: center; margin-top: 40px; }
</style></head><body><div class="container">
<h1>Jefes de Mesa zona Sur</h1>
<div class="form-group mt-4"><label for="searchInput"><strong>Agentes</strong></label><input type="text" id="searchInput" class="form-control" placeholder="Buscar agente..."></div>
<div class="mt-3 text-center">
<p><strong>Enlace Politico:</strong> Gustavo Capiet - Cantidad de Afinidades: <strong>238</strong></p>
<p><strong>Enlace Tecnico 1:</strong> Adriana Thuman - Cantidad de Afinidades: <strong>131</strong></p>
<p><strong>Giuliana marchione</strong> - Cantidad de Afinidades: <strong>212</strong></p>
</div>
<div class="mt-5 ranking-container">
<h2>Ranking de Afinidades (Top 10)</h2><table border="1" class="dataframe table table-striped table-bordered table-hover">
  <thead class="thead-dark">
    <tr style="text-align: right;">
      <th>Nombre Completo</th>
      <th>Afinidades</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PEDRO ARIEL CEA</td>
      <td>362</td>
    </tr>
    <tr>
      <td>MATIAS CONSOLI</td>
      <td>258</td>
    </tr>
    <tr>
      <td>EMANUEL TULA</td>
      <td>210</td>
    </tr>
    <tr>
      <td>SANTIAGO FERNANDEZ</td>
      <td>203</td>
    </tr>
    <tr>
      <td>EXEQUIEL VIDAL</td>
      <td>148</td>
    </tr>
    <tr>
      <td>MARIA FLORENCIA PISCICELLI</td>
      <td>117</td>
    </tr>
    <tr>
      <td>FEDERICO ALFONSO VITA</td>
      <td>101</td>
    </tr>
    <tr>
      <td>PAULA VIVES</td>
      <td>84</td>
    </tr>
    <tr>
      <td>SOL PETAGNA</td>
      <td>82</td>
    </tr>
    <tr>
      <td>GONZALO ROMAY</td>
      <td>78</td>
    </tr>
  </tbody>
</table>
</div>
<div class="mt-3 text-center">
<p><strong>Total de Afinidades zona sur:</strong> <strong>3119</strong></p>
</div>
<h2>Mapa de Afinidades</h2>
<div class="chart-container treemap-container mt-4">
<canvas id="treemapChart"></canvas>
</div>
<h2>Detalle de Afinidades</h2>
<div style="height: 800px; overflow-y: auto; border: 1px solid #ccc;"><div id="barChartContainer" class="chart-container mt-4" style="height:8000px;">
<canvas id="barChart"></canvas>
</div></div>
</div><script>
Chart.register(ChartDataLabels);
const originalData = [{"name": "CARLOS ANDRES ABATE", "value": 0}, {"name": "CARLOS ANDRES ABURTO", "value": 0}, {"name": "PAULA GISEL ACU\u00d1A", "value": 0}, {"name": "DAFNE NAIR AG\u00dcERO BACHMANN", "value": 0}, {"name": "MAR\u00cdA LORENA AGUILERA", "value": 0}, {"name": "MAR\u00cdA ANG\u00c9LICA ALBERDI", "value": 0}, {"name": "MAIRA ALEGR\u00cdA", "value": 4}, {"name": "NORA HEBE ALLEGRI", "value": 0}, {"name": "NICOLAS ALMAGRO", "value": 0}, {"name": "LUIS EMANUEL ALVAREZ", "value": 0}, {"name": "PAOLA ANTONELLA ALVAREZ", "value": 0}, {"name": "CAROLINA AMAYA", "value": 0}, {"name": "DELIA ANGELI", "value": 26}, {"name": "OLGA ANTONIC", "value": 0}, {"name": "DEBORA AQUIN", "value": 0}, {"name": "LUIS RAMON AQUIN", "value": 0}, {"name": "GABRIEL OMAR ARAVENA", "value": 0}, {"name": "AGUSTINA AREVALO", "value": 0}, {"name": "MATEO RAMIRO ARIAS", "value": 0}, {"name": "CLAUDIA VANESA AVILA AGURTO", "value": 1}, {"name": "NANCY ALEJANDRA AVILA AGURTO", "value": 53}, {"name": "LETICIA NOEMI AZUA", "value": 0}, {"name": "ANA LUISA BADILLA", "value": 0}, {"name": "HECTOR JAVIER BAEZA GONZALEZ", "value": 0}, {"name": "FRANCISCO JUAN BALLESTER", "value": 0}, {"name": "MELISA NOELIA BARCO SALIM", "value": 13}, {"name": "LORENA BEATRIZ BARRA", "value": 0}, {"name": "JORGE LUIS BARRERA", "value": 0}, {"name": "ISABELINO DARIO BARRIOS", "value": 0}, {"name": "FERMIN BARROS", "value": 40}, {"name": "ISMAEL BARROS BELTRAN", "value": 0}, {"name": "EDGARDO SALVADOR BATISTA", "value": 0}, {"name": "MARTA SUSANA BAYARDO", "value": 26}, {"name": "JORGE BELMAR", "value": 0}, {"name": "GABRIELA EDITH BENEGAS BUSTOS", "value": 0}, {"name": "NATALIA BERMEJO", "value": 0}, {"name": "MIRIAM BERSANO", "value": 10}, {"name": "MARCELA ELENA BERTELL", "value": 18}, {"name": "SERGIO MART\u00cdN BETANCUR", "value": 0}, {"name": "IGNACIO JAVIER BIDART", "value": 33}, {"name": "MIRTA BILLORIAN", "value": 0}, {"name": "JORGE EDUARDO BLANCO", "value": 0}, {"name": "JOSEFINA BONAVITTA", "value": 0}, {"name": "ESTEBAN BOSCH", "value": 20}, {"name": "MARGARITA BOSCH", "value": 0}, {"name": "CORREA FLORES BRISA", "value": 10}, {"name": "IAN JOEL BRUNO REPARAZ", "value": 4}, {"name": "JUAN CABRERA", "value": 3}, {"name": "MARA JEZMIN CABRERA", "value": 0}, {"name": "PABLO CESAR CABRERA", "value": 0}, {"name": "SABINA CABRERA", "value": 0}, {"name": "ALEJANDRA CALABRESE", "value": 0}, {"name": "ALEJANDRO CALDERON", "value": 0}, {"name": "ALFREDO HORACIO CALFU\u00d1ANCO", "value": 0}, {"name": "NOEMI CAMPOS", "value": 0}, {"name": "MAURICIO JOSE CANEO", "value": 0}, {"name": "GABRIELA CAPRARULO", "value": 0}, {"name": "GABRIELA MABEL CARDENAS", "value": 0}, {"name": "SERGIO A. CARIA", "value": 0}, {"name": "JUAN BAUTISTA CARRASCO", "value": 0}, {"name": "MANUEL CARRASCO", "value": 11}, {"name": "JOSE ANTONIO CASANOVA", "value": 0}, {"name": "SEBASTIAN HECTOR FACUNDO CASANOVA", "value": 0}, {"name": "ROSANA CASARI", "value": 0}, {"name": "HECTOR OSVALDO CASTRO", "value": 0}, {"name": "MACARENA CINTIA CASTRO", "value": 0}, {"name": "PEDRO ARIEL CEA", "value": 362}, {"name": "RODOLFO HUMBERTO CENTURION", "value": 0}, {"name": "ROGELIO MARCELO CENTURION", "value": 0}, {"name": "ROXANA ELIZABETH CHAVEZ", "value": 17}, {"name": "LILEN CHEUQUEPAN", "value": 0}, {"name": "BRUNO GASTON CIDES", "value": 0}, {"name": "CAROLINA COBOS", "value": 11}, {"name": "MARIELA COLLAN", "value": 4}, {"name": "FRANCO DAVID COLLUEQUE", "value": 0}, {"name": "FERNANDA NOELIA CONDORI", "value": 0}, {"name": "MATIAS CONSOLI", "value": 258}, {"name": "ANGEL COSTA", "value": 0}, {"name": "ROMINA PAOLA CREIDE", "value": 0}, {"name": "ENZO MAXIMILIANO CRESPO", "value": 0}, {"name": "SOFIA EMILIANA CUEVA", "value": 0}, {"name": "ENA BELEN CUI\u00d1AS", "value": 0}, {"name": "JOSE MARCELO CEFERINO CUI\u00d1AS VAZQUEZ", "value": 0}, {"name": "GEORGINA CECILIA CURI\u00d1ANCO", "value": 0}, {"name": "JAVIER ANTONIO CURRUHUINCA", "value": 0}, {"name": "MARIA LAURA DA PIEVE", "value": 22}, {"name": "MARIANO ARIEL DATTILO", "value": 47}, {"name": "ALFREDO RUBEN DIAZ", "value": 0}, {"name": "ESTHER LUPERIA DIAZ", "value": 0}, {"name": "DANIEL DI FINI", "value": 0}, {"name": "JOSE ANTONIO DMICO", "value": 9}, {"name": "NATALIA ELIZABETH DONINI", "value": 0}, {"name": "ROXANA INES DONINI", "value": 0}, {"name": "ALDANA DURAN", "value": 0}, {"name": "ANDREA LILIANA DURAN", "value": 0}, {"name": "BRISA AYELEN DURAN", "value": 0}, {"name": "HILDA BEATRIZ DURAN", "value": 0}, {"name": "MARLENE HELENA DURAN", "value": 18}, {"name": "ROBERTO ANDR\u00c9S DURAN", "value": 0}, {"name": "AGUSTINA ECHEVERRIA", "value": 0}, {"name": "EFIGENIA ENRIQUEZ", "value": 0}, {"name": "ROSANA ANDREA ESCOBAR", "value": 0}, {"name": "WALTER LUIS ESPINDOLA", "value": 0}, {"name": "RA\u00daL ARMANDO ESPINOZA", "value": 0}, {"name": "MAR\u00cdA PIA DE EZCURRA", "value": 0}, {"name": "ADRIAN FERNANDES", "value": 1}, {"name": "SANTIAGO FERNANDEZ", "value": 203}, {"name": "ROMINA GISELE FERNANDEZ MENDES", "value": 0}, {"name": "CAROLINA FIGUEROA", "value": 0}, {"name": "NOELIA ELISABET FIGUEROA", "value": 2}, {"name": "ALEJANDRA FILIPELLA", "value": 0}, {"name": "SILVANA MARINA FIORIO", "value": 0}, {"name": "SILVIA FOCARRAZZO", "value": 0}, {"name": "ANDRES FREISTAV", "value": 2}, {"name": "CAROLINA FUENTEALBA COLOMBO", "value": 0}, {"name": "NOELIA GALDAMES", "value": 0}, {"name": "FIAMMA ABRIL GALVAN", "value": 0}, {"name": "AMIRA SILVINA GANEM", "value": 0}, {"name": "EDUARDO GABRIEL GARCIA", "value": 0}, {"name": "NAHUEL ALEJANDRO GARCIA", "value": 0}, {"name": "CESAR RODOLFO GARD", "value": 0}, {"name": "LORENA GAUNA", "value": 6}, {"name": "ROXANA MYRIAM GIMENEZ", "value": 0}, {"name": "ALFREDO GODOY", "value": 5}, {"name": "ANABELA SOLANGE GODOY", "value": 2}, {"name": "CLARA GUILLERMINA GODOY", "value": 0}, {"name": "VICTOR MARCIAL GODOY", "value": 0}, {"name": "MATIAS GOLUB", "value": 1}, {"name": "PABLO FEDERICO GOMEZ ACOSTA", "value": 0}, {"name": "MAXIMILIANA DE LOS ANGELES GONZALEZ", "value": 23}, {"name": "OSCAR FABIAN GONZALEZ", "value": 19}, {"name": "AGUSTINA CELESTE GONZ\u00c1LEZ", "value": 0}, {"name": "PABLO AGUSTIN GREGORI", "value": 0}, {"name": "WALTER GUIMENEZ", "value": 0}, {"name": "CLAUDIA HARRIS TORO", "value": 2}, {"name": "ROCIO HAUSCARRIAGUE", "value": 0}, {"name": "JUAN CAMILO HERMOSILLA", "value": 0}, {"name": "LUIS MARCELO HERMOSILLA", "value": 15}, {"name": "MAILEN HERMOSILLA", "value": 25}, {"name": "ALBERTO ANDRES HERMOSILLA POBLETE", "value": 0}, {"name": "RICARDO LUIS ALBERTO HERRERO", "value": 0}, {"name": "SILVIA STELLA MARIS HERZIG", "value": 6}, {"name": "MIGUEL ANGEL IALLONARDO", "value": 0}, {"name": "ANDRES AVELINO INFANTE", "value": 0}, {"name": "FABIAN OMAR INFANTINO", "value": 1}, {"name": "PABLO ALEJANDRO IRIZAR", "value": 0}, {"name": "EDUARDO JONES", "value": 0}, {"name": "JOSE LUIS LABADIE", "value": 0}, {"name": "LORENA LAFFITTE", "value": 4}, {"name": "ANABELLA JUDITH LAGOS", "value": 0}, {"name": "CAMILA LAGOS", "value": 0}, {"name": "HECTOR TOMAS LAGOS", "value": 0}, {"name": "IRENE MABEL LAGOS", "value": 0}, {"name": "ORIANA MALEN LAGOS", "value": 22}, {"name": "RODRIGO LAGOS", "value": 0}, {"name": "OMAR GRISNELDO LARA BASCU\u00d1AN", "value": 51}, {"name": "MANUEL LAS HERAS", "value": 0}, {"name": "JUAN CARLOS LEDESMA", "value": 0}, {"name": "ROMINA ANDREA LEIBLICH", "value": 0}, {"name": "GABRIELA VANESA LEITES", "value": 0}, {"name": "ALDA MARISA LEMUNAO", "value": 0}, {"name": "JORGE LEON", "value": 0}, {"name": "LUISA INES LINCONAO", "value": 0}, {"name": "MARIANELA LI\u00d1EIRO", "value": 0}, {"name": "LAURA VANESA L\u00d3PEZ", "value": 23}, {"name": "DAPPELLO JOSE LUIS", "value": 0}, {"name": "DAVID MANRIQUEZ", "value": 0}, {"name": "LEONARDO MANRIQUEZ", "value": 0}, {"name": "MARIA JOSEFINA MANSILLA", "value": 0}, {"name": "SILVANA MARCHENA", "value": 0}, {"name": "DIEGO ALEXIS MARCOVESKY", "value": 2}, {"name": "FREDI JONATHAN MARIPE", "value": 0}, {"name": "GLADYZ MARIQUEO", "value": 0}, {"name": "RODRIGO MARIQUEO", "value": 9}, {"name": "JENIFER IVONNE MARTINEZ", "value": 0}, {"name": "PERLA MARTINEZ", "value": 0}, {"name": "TAMARA MARTINEZ", "value": 21}, {"name": "PABLO IGNACIO MASCIAS", "value": 0}, {"name": "JIMENA MENDEZ", "value": 3}, {"name": "NUMILEN MENDEZ", "value": 3}, {"name": "RICARDO ANTONIO MENDEZ", "value": 2}, {"name": "EDUARDO MENDOZA", "value": 24}, {"name": "CARLOS MEN\u00c9NDEZ", "value": 10}, {"name": "JONATHAN ANDRES SEBASTIAN MERI\u00d1O", "value": 0}, {"name": "SEBASTIAN EDUARDO MERI\u00d1O", "value": 19}, {"name": "Y\u00c9SICA MESA", "value": 0}, {"name": "CESAR MEZA", "value": 0}, {"name": "MIRIAM LILIANA MIRANDA", "value": 0}, {"name": "EVA ALEJANDRA MONZON", "value": 0}, {"name": "MARCOS EZEQUIEL MONZON", "value": 0}, {"name": "RUBEN MONZON", "value": 51}, {"name": "ZAIRA ANTONELLA MONZON", "value": 0}, {"name": "ZAMIRA AINARA MONZON", "value": 0}, {"name": "CAROLINA MORA\u00d1A", "value": 1}, {"name": "GUILLERMO MORENO", "value": 0}, {"name": "CARLOS MOROS", "value": 0}, {"name": "MARIANA MOYANO", "value": 0}, {"name": "JOSE LUIS MOZZONI", "value": 8}, {"name": "MONICA JULIA MU\u00d1OZ", "value": 0}, {"name": "IRIS LILIANA MURER", "value": 0}, {"name": "JAVIER ANTONIO MURER", "value": 56}, {"name": "PATRICIA ALEJANDRA MURER", "value": 0}, {"name": "CAROLINA CECILIA NAMUNCURA", "value": 0}, {"name": "JUAN PABLO NARETTI", "value": 1}, {"name": "JULIAN ALBERTO NATOL", "value": 0}, {"name": "AGUSTINA NAVARRO", "value": 0}, {"name": "ROXANA AURORA NEIRA", "value": 53}, {"name": "OSCAR ALFREDO NERI", "value": 0}, {"name": "NILDA NOVOA", "value": 0}, {"name": "CARLA AILEN ODORISIO", "value": 24}, {"name": "KATERIN LAIS AYL\u00c9N OLEINIK", "value": 0}, {"name": "ALEJANDRO GABRIEL ORME\u00d1O", "value": 0}, {"name": "IVANA AMANCAY OSES", "value": 0}, {"name": "RUBEN DANIEL OTRANTO", "value": 0}, {"name": "PABLO PADILLA", "value": 31}, {"name": "MARA EMILCE PAIVA", "value": 0}, {"name": "CECILIA PALACIOS", "value": 0}, {"name": "DORA CRISTINA PAREDES", "value": 0}, {"name": "EMILA PAVES", "value": 15}, {"name": "MAR\u00cdA DE LOS \u00c1NGELES PAV\u00c9S", "value": 32}, {"name": "GLADIS ESTER PE\u00d1A", "value": 0}, {"name": "MARIA VALERIA PERALTA", "value": 20}, {"name": "BARBARA MARISEL PEREIRA", "value": 41}, {"name": "MACARENA PEREIRA", "value": 0}, {"name": "AGUSTINA PEREZ", "value": 0}, {"name": "FABIANA PEREZ", "value": 0}, {"name": "RAUL PEREZ", "value": 0}, {"name": "SILVIO ANTONIO PEREZ", "value": 0}, {"name": "SOL PETAGNA", "value": 82}, {"name": "BARBARA AGUSTINA PEUCON", "value": 0}, {"name": "PABLO HORACIO PEUCON", "value": 30}, {"name": "CRISTIAN MIGUEL PINCEMIN", "value": 2}, {"name": "MARIA FLORENCIA PISCICELLI", "value": 117}, {"name": "SOFIA ANTONELLA POSDELEY", "value": 0}, {"name": "JUAN JOSE PRADO", "value": 0}, {"name": "MARIA LAURA RUTH GISELLE PRAVATO", "value": 0}, {"name": "GASTON PRIETO", "value": 0}, {"name": "ALLA PRIGOLOVKA", "value": 0}, {"name": "FIORELLA QUEZADA", "value": 0}, {"name": "MARIA ALEJANDRA QUINTULEN", "value": 0}, {"name": "GUILLERMO NICOLAS QUINTULEN ENRIQUEZ", "value": 0}, {"name": "YOLANDA MIRIAM QUIROGA", "value": 0}, {"name": "MELINA RADIVOY", "value": 0}, {"name": "SEBASTIAN RAIMONDO", "value": 2}, {"name": "ESTEBAN MARIO RAMELLA", "value": 2}, {"name": "CAROLINA VICTORIA RAMIREZ", "value": 0}, {"name": "EMILIO RAMIREZ", "value": 8}, {"name": "EUGENIA RAMIREZ", "value": 24}, {"name": "KARINA AURORA RAMIREZ", "value": 35}, {"name": "VERONICA ALMA RIVAS MOLINA", "value": 2}, {"name": "ELIANA ELIZABETH RIVERA", "value": 17}, {"name": "MATIAS FERNANDO ROBLES", "value": 0}, {"name": "LUCAS ALBERTO RODRIGUEZ", "value": 0}, {"name": "MART\u00cdN RODRIGUEZ", "value": 15}, {"name": "CAMILA RODRIGUEZ GERARDI", "value": 0}, {"name": "LILIANA ALEJANDRA ROLDAN", "value": 0}, {"name": "MARINA ROMA", "value": 0}, {"name": "GONZALO ROMAY", "value": 78}, {"name": "TOMAS PATRICIO ROMERO", "value": 0}, {"name": "MARTIN EDUARDO ROSENTHAL", "value": 75}, {"name": "HORACIO SAEZ", "value": 1}, {"name": "JUAN PEDRO SAJOUX", "value": 0}, {"name": "ANALIA AYELEN SALAZAR", "value": 4}, {"name": "MARCELO ERWIN SALGADO REYES", "value": 63}, {"name": "MONICA SALINA", "value": 0}, {"name": "DEBORA GISELLE SANCHEZ", "value": 0}, {"name": "CARLA DANIELA SANDOVAL", "value": 0}, {"name": "LORENA SANZANA", "value": 0}, {"name": "EDUARDO SEIRO", "value": 0}, {"name": "LUCAS ARIEL SEMO", "value": 1}, {"name": "ANGELICA BETIANA SEPULVEDA", "value": 0}, {"name": "CARLOS HECTOR SEPULVEDA", "value": 0}, {"name": "MARIO ALFREDO SEP\u00daLVEDA", "value": 0}, {"name": "ALAIA JULIETA SEPULVEDA PAV\u00c9S", "value": 0}, {"name": "LUIS SILVA", "value": 0}, {"name": "SANDRA SIMOLIUNAS", "value": 0}, {"name": "CECILIA TAMARA MARIA SMAZANOVICH", "value": 0}, {"name": "DANIEL SOSA", "value": 0}, {"name": "CAMILA ROCIO SPERANZA", "value": 0}, {"name": "DANTE OSCAR SPERANZA", "value": 52}, {"name": "MARIA JOSE SPERANZA", "value": 0}, {"name": "MARIA ANTONELA TABARES", "value": 0}, {"name": "MAURICIO OMAR TALAVERA VANCINI", "value": 0}, {"name": "SILVIA TELLO", "value": 0}, {"name": "GUILLERMO JAVIER TONELLI", "value": 0}, {"name": "YANINA VALERIA TORO", "value": 0}, {"name": "ANA INES TORRES", "value": 0}, {"name": "JOSIAS TORRES", "value": 0}, {"name": "LETICIA PAEZ TORRES", "value": 0}, {"name": "MARCELA TORRES", "value": 0}, {"name": "ROCIO MARIEL TORRES", "value": 4}, {"name": "JUAN MAURICIO TRONCOSO", "value": 1}, {"name": "LUCRECIA HEBE TRUJILLO", "value": 4}, {"name": "SILVIA TRUPAN", "value": 0}, {"name": "EMANUEL TULA", "value": 210}, {"name": "BEATRIZ IRENE TYCZYNSKI", "value": 0}, {"name": "BERNARDO JOSE URIBE", "value": 0}, {"name": "JONATAN ABEL URIBE", "value": 14}, {"name": "INGRID ESTEFANIA VALDEBENITO", "value": 13}, {"name": "DIEGO EDUARDO VALDEZ", "value": 0}, {"name": "LORENA MARCELA VALDEZ", "value": 0}, {"name": "IRMA YOLANDA VALENZUELA", "value": 0}, {"name": "JORGE AGUSTIN VALENZUELA", "value": 0}, {"name": "ALBERTO VASQUEZ", "value": 6}, {"name": "MARIO VASQUEZ", "value": 0}, {"name": "VALERIA BEATRIZ VASQUEZ", "value": 0}, {"name": "AGUSTINA CANDELA NUMILEN VAZQUEZ", "value": 0}, {"name": "HECTOR VENICA", "value": 0}, {"name": "EXEQUIEL VIDAL", "value": 148}, {"name": "DANIEL URIEL VILLA", "value": 0}, {"name": "FRANCISCO VILLA", "value": 0}, {"name": "RODRIGO VILLA", "value": 0}, {"name": "FEDERICO ALFONSO VITA", "value": 101}, {"name": "NATALIA M\u00d3NICA VITA", "value": 58}, {"name": "SERGIO VIVANCO", "value": 0}, {"name": "PAULA VIVES", "value": 84}, {"name": "ELIZABET FRANCISCA ZU\u00d1IGA", "value": 0}, {"name": "LILIANA MARINA ZU\u00d1IGA", "value": 2}, {"name": "VICTOR JONATAN ZU\u00d1IGA", "value": 0}, {"name": "PAULA ZUNINO", "value": 5}];
var treemapCtx = document.getElementById('treemapChart').getContext('2d');
var treemapChart = new Chart(treemapCtx, {
    type: 'treemap',
    data: { datasets: [{
        label: 'Afinidades', tree: originalData, key: 'value', groups: ['name'],
        backgroundColor: 'rgba(54, 162, 235, 0.5)', borderColor: 'rgba(54, 162, 235, 1)', borderWidth: 1,
            labels: {
                display: true,
                color: 'black',
                font: { size: 10, weight: 'normal' },
                align: 'center',
                position: 'center',
                formatter: (ctx) => {
                    if (!ctx.raw) { return ''; }
                    const w = ctx.raw.w;
                    const h = ctx.raw.h;
                    if (w > 100 && h > 50) {
                        const nameParts = ctx.raw.g.split(' ');
                        if (nameParts.length > 1) {
                            const firstName = nameParts[0];
                            const restOfName = nameParts.slice(1).join(' ');
                            return [firstName, restOfName];
                        }
                        return ctx.raw.g;
                    }
                    return '';
                }
            }
    }]}, 
    options: {
        maintainAspectRatio: false,
        plugins: { legend: { display: false }, datalabels: { display: false }, tooltip: { callbacks: { label: function(ctx) { const i = ctx.raw; return i ? `${i.g}: ${i.v}` : ''; } } } }
    }
});
var barCtx = document.getElementById('barChart').getContext('2d');
var barChart = new Chart(barCtx, {
    type: 'bar',
    data: { labels: originalData.map(d => d.name), datasets: [{
        label: 'Afinidades', data: originalData.map(d => d.value), backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgba(255, 99, 132, 1)', borderWidth: 1
    }]}, 
    options: {
        indexAxis: 'y',
        maintainAspectRatio: false,
        scales: { x: { beginAtZero: true } },
        plugins: { datalabels: { anchor: 'end', align: 'end', formatter: Math.round, font: { weight: 'bold' } } }
    }
});
const searchInput = document.getElementById('searchInput');
const barChartContainer = document.getElementById('barChartContainer');
searchInput.addEventListener('keyup', (e) => {
    const searchValue = e.target.value.toLowerCase();
    const filteredData = originalData.filter(item => item.name.toLowerCase().includes(searchValue));
    treemapChart.data.datasets[0].tree = filteredData;
    treemapChart.update();
    barChart.data.labels = filteredData.map(d => d.name);
    barChart.data.datasets[0].data = filteredData.map(d => d.value);
    const newBarHeight = filteredData.length * 25;
    barChartContainer.style.height = `${newBarHeight}px`;
    barChart.update();
});
</script></body></html>